# Server Configuration
HOST=0.0.0.0
PORT=8080
LOG_LEVEL=info
RUST_LOG=info,recommendation_api=debug,tower_http=debug

# Database Configuration
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/recommendations
DATABASE_MAX_CONNECTIONS=20
DATABASE_MIN_CONNECTIONS=5
DATABASE_ACQUIRE_TIMEOUT_SECS=3
DATABASE_IDLE_TIMEOUT_SECS=600
DATABASE_MAX_LIFETIME_SECS=1800

# Redis Configuration
REDIS_URL=redis://localhost:6379
REDIS_POOL_SIZE=10
REDIS_CONNECTION_TIMEOUT_SECS=5

# Algorithm Configuration
COLLABORATIVE_WEIGHT=0.6
CONTENT_BASED_WEIGHT=0.4
SIMILARITY_THRESHOLD=0.5
DEFAULT_RECOMMENDATION_COUNT=10
MAX_RECOMMENDATION_COUNT=100

# Feature Vector Configuration
FEATURE_VECTOR_DIMENSION=512
USE_TFIDF_FOR_TEXT=true
NORMALIZE_NUMERICAL_FEATURES=true

# Model Update Configuration
INCREMENTAL_UPDATE_INTERVAL_SECS=10
FULL_REBUILD_INTERVAL_HOURS=24
TRENDING_UPDATE_INTERVAL_HOURS=1
MODEL_UPDATE_BATCH_SIZE=1000

# Cache Configuration
RECOMMENDATION_CACHE_TTL_SECS=300
TRENDING_CACHE_TTL_SECS=3600
USER_PREFERENCE_CACHE_TTL_SECS=600
ENTITY_FEATURE_CACHE_TTL_SECS=3600

# Authentication Configuration
API_KEY=your-secret-api-key-change-in-production
REQUIRE_API_KEY=true

# Rate Limiting Configuration
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS_PER_MINUTE=1000
RATE_LIMIT_BURST_SIZE=100

# Observability Configuration
METRICS_ENABLED=true
METRICS_PORT=9090
TRACING_ENABLED=true
TRACING_ENDPOINT=http://localhost:4317

# Cold Start Configuration
COLD_START_MIN_INTERACTIONS=5
TRENDING_WINDOW_DAYS=7
POPULAR_ENTITIES_COUNT=100

# Multi-Tenancy Configuration
DEFAULT_TENANT_ID=default
ENABLE_MULTI_TENANCY=false

# Webhook Configuration
WEBHOOK_ENABLED=false
WEBHOOK_URL=
WEBHOOK_SECRET=
WEBHOOK_RETRY_MAX_ATTEMPTS=3
WEBHOOK_RETRY_BACKOFF_SECS=5

# Bulk Operations Configuration
BULK_IMPORT_BATCH_SIZE=1000
BULK_IMPORT_MAX_RECORDS=100000
BULK_EXPORT_BATCH_SIZE=5000

# Performance Configuration
WORKER_THREADS=4
MAX_BLOCKING_THREADS=512
ENABLE_CONNECTION_POOLING=true

# Security Configuration
ENABLE_CORS=true
CORS_ALLOWED_ORIGINS=*
ENABLE_COMPRESSION=true
MAX_REQUEST_SIZE_MB=10

# Graceful Shutdown Configuration
SHUTDOWN_TIMEOUT_SECS=30
DRAIN_REQUESTS_ON_SHUTDOWN=true
